<!-- START OF FILE profile.html -->
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Completar Perfil</title>

        <!-- ========================================================= -->
        <!-- === INICIO DEL SCRIPT ANTI-PARPADEO DE TEMA === -->
        <!-- ========================================================= -->
        <script>
            (function () {
                const theme = localStorage.getItem('app-theme') || 'purple';
                const mode = localStorage.getItem('app-mode') || 'dark';
                document.documentElement.setAttribute('data-theme', theme);
                document.documentElement.setAttribute('data-mode', mode);
            })();
        </script>
        <!-- ========================================================= -->
        <!-- === FIN DEL SCRIPT === -->
        <!-- ========================================================= -->

    <!-- Hojas de Estilo Estandarizadas -->
    <link href="./css/tailwind.css" rel="stylesheet">
    <link href="./css/global.css" rel="stylesheet">
    <link href="./css/components.css" rel="stylesheet">
    <link href="./css/pages.css" rel="stylesheet">


</head>

<body class="min-h-screen pt-16 px-4 flex flex-col items-center">

    <div class="max-w-md w-full flex flex-col items-center">
        <br><br>

        <!-- Fila de Avatar -->
        <div class="mb-8">
            <input type="file" id="file-input" name="profilePic" accept="image/*" style="display:none;">

            <div id="profile-pic-container" class="flex items-center justify-center">
                <img id="profile-img" src="" alt="Avatar">
                <svg id="default-avatar-svg" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                        clip-rule="evenodd"></path>
                </svg>
            </div>
        </div>

        <!-- Username -->
        <!-- Fila de Username (Corregido para ser píldora y editable al toque) -->
        <!-- /web/profile.html (Fila de Username) -->
        
        <div class="flex items-center justify-center gap-0 mb-8 text-3xl font-bold">
        
        
            <!-- Icono de Dados (SVG) - AÑADIR ID -->
            <svg id="dice-btn" class="w-6 h-6 cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 18 21" fill="currentColor">
                <!-- ... (contenido del path del SVG de dados) ... -->
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M15 20.8559C15.7652 20.8559 16.5015 20.5636 17.0583 20.0386C17.615 19.5137 17.9501 18.7958 17.995 18.0319L18 17.8559V5.8559C18 5.09069 17.7077 4.35438 17.1827 3.79764C16.6578 3.24089 15.9399 2.90579 15.176 2.8609L15 2.8559H3C2.23479 2.85585 1.49849 3.14822 0.941739 3.67318C0.384993 4.19814 0.0498925 4.916 0.00500012 5.6799L4.66045e-09 5.8559V17.8559C-4.26217e-05 18.6211 0.292325 19.3574 0.817284 19.9142C1.34224 20.4709 2.06011 20.806 2.824 20.8509L3 20.8559H15ZM5.5 9.8559C5.12712 9.85588 4.76761 9.71698 4.49158 9.46628C4.21555 9.21558 4.0428 8.87106 4.007 8.4999L4 8.3559L4.007 8.2019C4.04297 7.83087 4.2158 7.48653 4.49181 7.23598C4.76782 6.98544 5.12723 6.84664 5.5 6.84664C5.87277 6.84664 6.23218 6.98544 6.50819 7.23598C6.7842 7.48653 6.95703 7.83087 6.993 8.2019L7 8.3459L6.993 8.4999C6.9572 8.87106 6.78445 9.21558 6.50842 9.46628C6.23239 9.71698 5.87288 9.85588 5.5 9.8559ZM12.5 9.8559C12.1271 9.85588 11.7676 9.71698 11.4916 9.46628C11.2156 9.21558 11.0428 8.87106 11.007 8.4999L11 8.3459C11.0002 7.96068 11.1486 7.5903 11.4144 7.31151C11.6802 7.03272 12.0431 6.86688 12.4279 6.84837C12.8127 6.82986 13.1898 6.96009 13.4812 7.21207C13.7726 7.46405 13.9558 7.81848 13.993 8.2019L14 8.3559C14 8.75372 13.842 9.13525 13.5607 9.41656C13.2794 9.69786 12.8978 9.8559 12.5 9.8559ZM9 13.3559C8.62712 13.3559 8.26761 13.217 7.99158 12.9663C7.71555 12.7156 7.5428 12.3711 7.507 11.9999L7.5 11.8459C7.50019 11.4607 7.64858 11.0903 7.91441 10.8115C8.18024 10.5327 8.54314 10.3669 8.92791 10.3484C9.31269 10.3299 9.68983 10.4601 9.9812 10.7121C10.2726 10.9641 10.4558 11.3185 10.493 11.7019L10.5 11.8559C10.5 12.2537 10.342 12.6353 10.0607 12.9166C9.77936 13.1979 9.39782 13.3559 9 13.3559ZM5.5 16.8559C5.12712 16.8559 4.76761 16.717 4.49158 16.4663C4.21555 16.2156 4.0428 15.8711 4.007 15.4999L4 15.3559L4.007 15.2019C4.04297 14.8309 4.2158 14.4865 4.49181 14.236C4.76782 13.9854 5.12723 13.8466 5.5 13.8466C5.87277 13.8466 6.23218 13.9854 6.50819 14.236C6.7842 14.4865 6.95703 14.8309 6.993 15.2019L7 15.3459L6.993 15.4999C6.9572 15.8711 6.78445 16.2156 6.50842 16.4663C6.23239 16.717 5.87288 16.8559 5.5 16.8559ZM12.5 16.8559C12.1271 16.8559 11.7676 16.717 11.4916 16.4663C11.2156 16.2156 11.0428 15.8711 11.007 15.4999L11 15.3459C11.0002 14.9607 11.1486 14.5903 11.4144 14.3115C11.6802 14.0327 12.0431 13.8669 12.4279 13.8484C12.8127 13.8299 13.1898 13.9601 13.4812 14.2121C13.7726 14.4641 13.9558 14.8185 13.993 15.2019L14 15.3559C14 15.7537 13.842 16.1353 13.5607 16.4166C13.2794 16.6979 12.8978 16.8559 12.5 16.8559Z"
                    fill="white" />
            </svg>
        
            <!-- Campo de texto: Ahora con clases de píldora oscura -->
            <input id="username-input" type="text" value="User3" class="text-white outline-none w-auto text-center font-bold text-3xl
                               border-none focus:ring-0 focus:border-0 focus:outline-none 
                               bg-gray-800 px-4 py-1 rounded-full" style="min-width: 100px;width: 224px;">
        
            <!-- ELIMINAMOS EL ICONO DE LÁPIZ -->
        </div>

        <!-- Edad -->
        <div class="flex items-center space-x-2 mb-4">
            <span>Edad :</span>
            <input id="age-input" type="number" min="10" max="99" value="18" class="profile-input">
        </div>

        <!-- Género -->
        <div class="flex items-center space-x-2 mb-12">
            <span>Género :</span>
            <select id="gender-select" class="gender-select">
                <option value="male">♂️</option>
                <option value="female">♀️</option>
            </select>
        </div>

        <!-- Botón Completar Perfil -->
        <button id="complete-profile-btn" class="button-custom">
            Completar perfil
        </button>

        <p id="profile-output" class="mt-4 text-center text-sm text-yellow-300"></p>
    </div>



    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
    <script src="./js/globe.js"></script>
    <script src="./js/app.js" type="module"></script>
    <!-- Scripts -->
    <script>
        // Mostrar imagen de perfil seleccionada
        const fileInput = document.getElementById('file-input');
        const profilePicContainer = document.getElementById('profile-pic-container');
        const profileImg = document.getElementById('profile-img');
        const defaultAvatar = document.getElementById('default-avatar-svg');

        profilePicContainer.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = e => {
                    profileImg.src = e.target.result;
                    profileImg.style.display = 'block';
                    defaultAvatar.style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        });
    </script>

</body>

</html>